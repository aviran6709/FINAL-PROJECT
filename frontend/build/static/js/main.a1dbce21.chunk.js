(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,,function(e,t,n){e.exports=n.p+"static/media/facebook-min.4521f6ae.svg"},function(e,t,n){e.exports=n.p+"static/media/gitHub-min.ede814d7.svg"},function(e,t,n){e.exports=n.p+"static/media/image-min.6f8dd5bc.jpg"},,function(e,t,n){e.exports=n(28)},,,,,,,,,function(e,t,n){},function(e,t,n){e.exports=n.p+"static/media/Ellipse-min.30b12a4d.svg"},function(e,t,n){e.exports=n.p+"static/media/not-found_v1.e4983e28.svg"},function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(10),i=n.n(o),c=(n(25),n(5)),s=n(2),l=n(11),u=function(e,t){return fetch(e,t).then(function(e){if(e.ok)return e.json();Promise.reject(e.statusText)})},p=new function e(t){var n=this,r=t.baseUrl,a=t.headers;Object(l.a)(this,e),this.checkToken=function(e){return u("".concat(n.baseUrl,"/users/me"),{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})},this.getUserInfo=function(){return u("".concat(n.baseUrl,"/users/me"),{headers:n.headers})},this.getArticle=function(){return u("".concat(n.baseUrl,"/articles"),{headers:n.headers})},this.unSavedArticle=function(e){return u("".concat(n.baseUrl,"/articles/").concat(e),{method:"delete",headers:n.headers})},this.saveArticle=function(e){return u("".concat(n.baseUrl,"/articles"),{method:"POST",headers:n.headers,body:JSON.stringify({keyword:e.keyword,title:e.title,content:e.content,publishedAt:e.publishedAt,source:e.source.name,url:e.url,urlToImage:e.urlToImage})})},this.signup=function(e){return u("".concat(n.baseUrl,"/signup"),{method:"POST",headers:n.headers,body:JSON.stringify({name:e.name,email:e.email,password:e.password})})},this.signin=function(e){return u("".concat(n.baseUrl,"/signin"),{method:"POST",headers:n.headers,body:JSON.stringify({email:e.email,password:e.password})})},this.baseUrl=r,this.headers=a}({baseUrl:"https://api.aviran.students.nomoreparties.sbs",headers:{"Access-Control-Allow-Origin":"*",Accept:"application/json","Content-Type":"application/json",authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}),h=a.a.createContext(),m=n(12),f=n.n(m),d=n(13),v=n.n(d),g=function(){return a.a.createElement("footer",{className:"footer"},a.a.createElement("h3",{className:"footer__tittle"},"\xa9 2021 Supersite, Powered by News API"),a.a.createElement("div",{className:"footer__content"},a.a.createElement("div",{className:"footer__links"},a.a.createElement("a",{className:"footer__links-text",href:"/"},"Home"),a.a.createElement("p",{className:"footer__links-text"},"Practicum By Yandex")),a.a.createElement("div",{className:"footer__links-btn"},a.a.createElement("a",{href:"http://github.com",target:"_blank",rel:"noopener noreferrer"},a.a.createElement("img",{className:"footer__links-btn",src:v.a,alt:"github icon"})),a.a.createElement("a",{href:"http://facebook.com",target:"_blank",rel:"noopener noreferrer"}," ",a.a.createElement("img",{className:"footer__links-btn",src:f.a,alt:"facebook icon"})))))},y=n(1),_=n(8),b=n(4);var w=function(e){var t=a.a.useContext(h),n=t.user,r=t.isLoggedIn,o=n||"",i=a.a.useState(!1),c=Object(s.a)(i,2),l=c[0],u=c[1];return a.a.createElement("div",{className:l?"overly":"  overly-off "},a.a.createElement("section",{className:e.isDarkThem&&!l?"navigation navigation_dark ":l?" navigation_menu ":"navigation"},a.a.createElement("h1",{className:e.isDarkThem&&!l?" navigation__header navigation__header_dark ":" navigation__header"},"NewsExplorer"),a.a.createElement("button",{className:e.isDarkThem&&!l?"  navigation__btn-menu navigation__btn-menu_black ":l?" navigation__btn-menu navigation__btn-menu_close":"navigation__btn-menu ",onClick:function(){u(!l)}}),a.a.createElement("ul",{className:l?"navigation__buttons navigation__buttons_menu ":"navigation__buttons"},a.a.createElement("li",{className:"navigation__links"},a.a.createElement(b.b,{className:e.isDarkThem&&!l?"navigation__links-tittle navigation__links-tittle_dark":"navigation__links-tittle",to:"/"},"Home")),a.a.createElement("li",{className:r?"navigation__links":" "},r?a.a.createElement(b.b,{className:e.isDarkThem&&!l?"navigation__links-tittle-save-article navigation__links-tittle-save-article_dark":"navigation__links-tittle-save-article ",to:"/saved-news\n"},"Saved articles"):" "),a.a.createElement("li",{className:"navigation__links"},a.a.createElement("button",{onClick:r&&!l?e.logout:l&&r?e.logout:function(){u(!1),e.openPopup()},className:r&&e.isDarkThem&&!l?"navigation__btn-signout  navigation__btn-signout_dark":r?" navigation__btn-signout  ":"navigation__btn-signin "},r?"".concat(o," "):"Sign in")))))},E=function(e){var t=a.a.useContext(h),n=e.data,r=n.title,o=n.urlToImage,i=n.url,c=n.publishedAt,l=n.content,u=n.source,p=n.keyword,m=u.name?u.name:u,f=new Date(c),d=f.getDate(c),v=f.getUTCFullYear(),g=f.toLocaleString("default",{month:"long"}),y="".concat(d," ").concat(g,", ").concat(v),_=a.a.useState(!1),b=Object(s.a)(_,2),w=b[0],E=b[1],N=a.a.useState(e.isSaved),k=Object(s.a)(N,2),x=k[0],L=k[1],S=function(){e.isLogin||e.isDarkThem?E(!1):E(!w)};return a.a.createElement("div",{className:"card",onClick:function(){window.location.href="".concat(i)}},a.a.createElement("img",{className:"card__img",src:o,alt:"".concat(r)}),e.isDarkThem?a.a.createElement("p",{className:"card__tag"},p):"",a.a.createElement("button",{className:e.isDarkThem?"card__btn-saved ":"card__btn ".concat(x?" card__btn-clicked":"card__btn"),onClick:function(n){if(n.stopPropagation(),e.isDarkThem||!e.isLogin||x||(L(!0),e.onSaveBtnClick(e.data)),e.isDarkThem&&e.deleteCard(e.data._id),!e.isDarkThem&&x){var a=t.savedCard.find(function(e){return e.title===r});console.log(a._id),e.deleteCard(a._id),L(!1)}},onMouseEnter:S,onMouseLeave:S}),w?a.a.createElement("button",{className:"card__link"}," ",e.isDarkThem?"Remove from saved":"Sign in to save articles"):" ",a.a.createElement("p",{className:"card__date"},y),a.a.createElement("h3",{className:"card__tittle"},r),a.a.createElement("p",{className:"card__text"},l),a.a.createElement("p",{className:"card__src"},m))},N=function(e){return e.isFund?a.a.createElement("div",{className:"preloader"},a.a.createElement("img",{className:"preloader__img preloader__img_circle-preloader",src:n(26),alt:"Ellipse"}),a.a.createElement("p",{className:"preloader__text"},"Searching for news...")):a.a.createElement("div",{className:"preloader"},a.a.createElement("img",{className:"preloader__img",src:n(27),alt:"Ellipse"}),a.a.createElement("h1",{className:"preloader__tittle"},"Nothing found"),a.a.createElement("p",{className:"preloader__text"},"Sorry, but nothing matched ",a.a.createElement("br",null),"your search terms."))},k=function(e){var t,n=e.cardData,r=a.a.useContext(h),o=r.savedCard;return r.badConnectionToServer?a.a.createElement("span",{className:"error-server"},"Sorry, something went wrong during the request. There may be a connection issue or the server may be down. Please try again later."):e.isSearch?a.a.createElement(N,{isFund:!0}):0!==n.length?a.a.createElement("section",{className:"news-results"},a.a.createElement("h2",{className:e.isDarkThem?" ":"news-results__tittle"},e.isDarkThem?"":"Search results"),a.a.createElement("ul",{className:"card-list"},n.map(function(n,r){return n.keyword||(n.keyword=e.keyword),t=o.some(function(e){return e.title===n.title}),a.a.createElement("li",{className:"card-list__element",key:r},a.a.createElement(E,{deleteCard:e.deleteCard,data:n,onSaveBtnClick:e.onSaveBtnClick,isDarkThem:e.isDarkThem,isSaved:t,isLogin:e.isLogin}))})),a.a.createElement("button",{className:"news-results__btn",onClick:e.handelInternalCards},"Show more")):e.isFundSome?void 0:a.a.createElement(N,{isFund:!1})},x=function(e){var t,n=a.a.useContext(h),r=n.savedCard,o=r.map(function(e){return" ".concat(e.keyword)});t=Object(_.a)(new Set(o));var i=Object(_.a)(Array(t[0],t[1]));return a.a.createElement("section",{className:"save-news-header"},a.a.createElement(w,{isLogin:!0,logout:e.logout,isDarkThem:!0}),a.a.createElement("div",{className:"save-news"},a.a.createElement("h1",{className:"save-news__title"},"Saved articles"),a.a.createElement("h2",{className:"save-news__subtitle"},n.user,", you have ",r.length," saved articles"),a.a.createElement("h3",{className:"save-news__subtitle-resource"},"By keywords: ",a.a.createElement("p",{className:"save-news__subtitle-tag"},t.length<2?i:"".concat(i,"  , and  ").concat(t.length-2," other")))),a.a.createElement(k,{deleteCard:e.unSavedArticle,isDarkThem:!0,cardData:n.savedCard}))},L=function(e){var t=a.a.useState(!1),n=Object(s.a)(t,2),r=n[0],o=n[1],i=a.a.useState(""),c=Object(s.a)(i,2),l=c[0],u=c[1];return a.a.createElement("section",{className:"search-from"},a.a.createElement("h1",{className:"search-from__tittle"},"What's going on in the world?"),a.a.createElement("p",{className:"search-from__sub-tittle"},"Find the latest news on any topic and save them in your personal account."),a.a.createElement("form",{action:"#",method:"POST",onSubmit:function(t){t.preventDefault(),o(!0),e.getNews(l)},className:"search-from__search-bar"},a.a.createElement("input",{className:"search-from__input",placeholder:"Enter topic",name:"searchBar",required:!0,minLength:"2",maxLength:"40",value:l||"",onChange:function(e){var t=e.target.value;u(t)}}),a.a.createElement("button",{className:r?"search-from__btn search-from__btn_clicked":"search-from__btn"},"Search")))},S=function(e){return a.a.createElement("div",{onClick:e.onClose(),className:e.isOpen?"popup popup_open":"popup"},a.a.createElement("div",{onClick:function(e){e.stopPropagation()},className:"popup__block"},a.a.createElement("p",{className:"popup__text"},"Registration successfully completed!"),a.a.createElement("div",{className:"popup__subtitle"},a.a.createElement("p",{onClick:e.togglePopups,className:"popup__link-success"},"Sign in")),a.a.createElement("button",{onClick:e.onClose(),className:"popup__close-btn"})))},O=n(6),j=n(7);function C(){var e=a.a.useState({}),t=Object(s.a)(e,2),n=t[0],o=t[1],i=a.a.useState({}),c=Object(s.a)(i,2),l=c[0],u=c[1],p=a.a.useState(!1),h=Object(s.a)(p,2),m=h[0],f=h[1],d=Object(r.useCallback)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];o(e),u(t),f(n)},[o,u,f]);return{values:n,handleChange:function(e){var t=e.target,r=t.name,a=t.value;o(Object(j.a)({},n,Object(O.a)({},r,a))),u(Object(j.a)({},l,Object(O.a)({},r,t.validationMessage))),f(t.closest("form").checkValidity())},errors:l,isValid:m,resetForm:d}}function T(){T=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(L){c=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var a=t&&t.prototype instanceof p?t:p,o=Object.create(a.prototype),i=new N(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return x()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=b(i,n);if(c){if(c===u)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=l(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,i),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(L){return{type:"throw",arg:L}}}e.wrap=s;var u={};function p(){}function h(){}function m(){}var f={};c(f,a,function(){return this});var d=Object.getPrototypeOf,v=d&&d(d(k([])));v&&v!==t&&n.call(v,a)&&(f=v);var g=m.prototype=p.prototype=Object.create(f);function y(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function _(e,t){var r;this._invoke=function(a,o){function i(){return new t(function(r,i){!function r(a,o,i,c){var s=l(e[a],e,o);if("throw"!==s.type){var u=s.arg,p=u.value;return p&&"object"==typeof p&&n.call(p,"__await")?t.resolve(p.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(p).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(s.arg)}(a,o,r,i)})}return r=r?r.then(i,i):i()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=l(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function k(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=m,c(g,"constructor",m),c(m,"constructor",h),h.displayName=c(m,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(_.prototype),c(_.prototype,o,function(){return this}),e.AsyncIterator=_,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new _(s(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},y(g),c(g,i,"Generator"),c(g,a,function(){return this}),c(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=k,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;E(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}var P=function(e){var t=a.a.useState(!1),n=Object(s.a)(t,2),r=n[0],o=n[1],i=a.a.useState(""),l=Object(s.a)(i,2),u=l[0],p=l[1],h=C(),m=h.values,f=h.handleChange,d=h.errors,v=h.isValid,g=h.resetForm,y=function(){o(!1),g(),p(""),e.onClose()},_=function(){var t=Object(c.a)(T().mark(function t(n){var r;return T().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,e.createNewUser(m);case 3:r=t.sent,console.log(r),"boolean"===typeof r?o(r):p(r);case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}();return r?a.a.createElement(S,{isOpen:e.isOpen,onClose:function(){return y},togglePopups:function(){g(),e.togglePopups(),o(!1),p("")}}):a.a.createElement("div",{onClick:y,className:e.isOpen?"popup popup_open":"popup"},a.a.createElement("div",{onClick:function(e){e.stopPropagation()},className:"popup__block"},a.a.createElement("form",{className:"popup__form",onSubmit:_,action:"#",method:"POST",name:"signup"},a.a.createElement("h1",{className:"popup__tittle"},"sign up"),a.a.createElement("label",{htmlFor:"email",className:"popup__label"},"Email"),a.a.createElement("input",{id:"signupEmail",value:m.email?m.email:"",type:"email",placeholder:"Enter Email",name:"email",required:!0,minLength:"5",maxLength:"40",autoComplete:"on",className:"popup__input",onChange:f}),a.a.createElement("span",{className:"popup__error-massage"}," ",d.email?"".concat(d.email):""),a.a.createElement("label",{htmlFor:"password",className:"popup__label"},"password"),a.a.createElement("input",{id:"SignupPassword",type:"password",placeholder:"Enter password",name:"password",value:m.password?m.password:"",required:!0,minLength:"8",maxLength:"40",onChange:f,autoComplete:"on",className:"popup__input"}),a.a.createElement("span",{className:"popup__error-massage"}," ",d.password?"".concat(d.password):""),a.a.createElement("label",{htmlFor:"name",className:"popup__label"},"Username"),a.a.createElement("input",{id:"name",placeholder:"Enter your name",name:"name",required:!0,minLength:"2",maxLength:"40",onChange:f,autoComplete:"on",className:"popup__input",value:m.name?m.name:""}),a.a.createElement("span",{className:"popup__error-massage"}," ",d.name?"".concat(d.name):""),a.a.createElement("span",{className:"popup__error-massage_type_email"}," ",u?"".concat(u):""),a.a.createElement("button",{className:v?"popup__button ":" popup__button popup__button_disabled",type:v?"submit":""},"Sign up")),a.a.createElement("p",{className:"popup__subtitle"},"or"," ",a.a.createElement("span",{onClick:e.togglePopups,className:"popup__link "},"Sign in")),a.a.createElement("button",{onClick:e.onClose,className:"popup__close-btn"})))};function F(){F=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(L){c=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var a=t&&t.prototype instanceof p?t:p,o=Object.create(a.prototype),i=new N(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return x()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=b(i,n);if(c){if(c===u)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=l(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,i),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(L){return{type:"throw",arg:L}}}e.wrap=s;var u={};function p(){}function h(){}function m(){}var f={};c(f,a,function(){return this});var d=Object.getPrototypeOf,v=d&&d(d(k([])));v&&v!==t&&n.call(v,a)&&(f=v);var g=m.prototype=p.prototype=Object.create(f);function y(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function _(e,t){var r;this._invoke=function(a,o){function i(){return new t(function(r,i){!function r(a,o,i,c){var s=l(e[a],e,o);if("throw"!==s.type){var u=s.arg,p=u.value;return p&&"object"==typeof p&&n.call(p,"__await")?t.resolve(p.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(p).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(s.arg)}(a,o,r,i)})}return r=r?r.then(i,i):i()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=l(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function k(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=m,c(g,"constructor",m),c(m,"constructor",h),h.displayName=c(m,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(_.prototype),c(_.prototype,o,function(){return this}),e.AsyncIterator=_,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new _(s(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},y(g),c(g,i,"Generator"),c(g,a,function(){return this}),c(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=k,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;E(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}var D=function(e){var t=C(),n=t.values,r=t.handleChange,o=t.errors,i=t.isValid,l=t.resetForm,u=a.a.useState(""),p=Object(s.a)(u,2),h=p[0],m=p[1],f=function(){var t=Object(c.a)(F().mark(function t(r){var a;return F().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),t.next=3,e.login(n);case 3:"object"===typeof(a=t.sent)?(localStorage.clear(),localStorage.setItem("jwt",a.token),e.onClose()):m("the user with the specified email not found ");case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),d=function(){l(),m(""),e.onClose()};return a.a.createElement("div",{onClick:d,className:e.isOpen?"popup popup_open":"popup"},a.a.createElement("div",{onClick:function(e){e.stopPropagation()},className:"popup__block"},a.a.createElement("form",{className:"popup__form",onSubmit:f,action:"#",method:"POST",name:"signin"},a.a.createElement("h1",{className:"popup__tittle"},"sign in"),a.a.createElement("label",{htmlFor:"email",className:"popup__label"},"Email"),a.a.createElement("input",{value:n.email?n.email:"",id:"email",type:"email",placeholder:"Enter Email",name:"email",required:!0,minLength:"5",maxLength:"40",onChange:r,autoComplete:"on",className:"popup__input"}),a.a.createElement("span",{className:"popup__error-massage"}," ",o.email?"".concat(o.email):""),a.a.createElement("label",{htmlFor:"password",className:"popup__label"},"Password"),a.a.createElement("input",{id:"password",type:"password",placeholder:"Enter password",name:"password",value:n.password?n.password:"",required:!0,minLength:"8",maxLength:"40",onChange:r,autoComplete:"on",className:"popup__input"}),a.a.createElement("span",{className:"popup__error-massage"}," ",o.password?"".concat(o.password):""),a.a.createElement("span",{className:"popup__error-massage_type_email"}," ",h?"".concat(h):""),a.a.createElement("button",{className:i?"popup__button ":" popup__button popup__button_disabled",type:i?"submit":""},"Sign in")),a.a.createElement("p",{className:"popup__subtitle"},"or"," ",a.a.createElement("span",{onClick:e.togglePopups,className:"popup__link"},"Sign up")),a.a.createElement("button",{onClick:d,className:"popup__close-btn"})))};var A=function(e){var t=a.a.useState(!1),n=Object(s.a)(t,2),r=n[0],o=n[1],i=a.a.useState(!0),c=Object(s.a)(i,2),l=c[0],u=c[1],p=function(){o(!1)},h=function(){u(!l)};return a.a.useEffect(function(){var e=function(e){"Escape"===e.key&&p()};return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}},[]),a.a.createElement("header",{className:"header"},a.a.createElement(w,{openPopup:function(){o(!0)},logout:e.logout,isDarkThem:!1}),a.a.createElement(P,{togglePopups:h,isOpen:r&&!l,onClose:p,createNewUser:e.registerFunc}),a.a.createElement(D,{isOpen:r&&l,togglePopups:h,onClose:p,login:e.loginFunc,getSavedArticle:e.getArticle}),a.a.createElement(L,{getNews:e.getNews}))},I=n(14),G=n.n(I),U=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement("section",{className:"about"},a.a.createElement("img",{className:"about__img",src:G.a,alt:"meditation time"}),a.a.createElement("div",{className:"about__content"},a.a.createElement("h2",{className:"about__tittle"},"About the author"),a.a.createElement("p",{className:"about__text"},"This block describes the project author. Here you should indicate your name, what you do, and which development technologies you know."),a.a.createElement("br",null),a.a.createElement("p",{className:"about__text"},"You can also talk about your experience with Practicum, what you learned there, and how you can help potential customers."))))};var B=function(e){var t=a.a.useContext(h),n=a.a.useState(3),r=Object(s.a)(n,2),o=r[0],i=r[1],c=e.cardData.slice(0,o);return a.a.createElement("main",null,a.a.createElement(k,{keyword:e.keyword,onSaveBtnClick:e.onSaveBtnClick,deleteCard:e.unSavedArticle,isDarkThem:!1,isLogin:t.isLoggedIn,isFundSome:e.isFundSome,isSearch:e.onSearchStatus,cardData:c,handelInternalCards:function(t){e.cardData.length<o?t.target.style.opacity="0":i(o+3)}}),a.a.createElement(U,null))},Y=n(15),q=function(e){var t=e.component,n=Object(Y.a)(e,["component"]);return n.isLoggedIn?a.a.createElement(t,n):a.a.createElement(y.a,{to:"/"})},J=function(e){var t=new Date,n=new Date;n.setDate(n.getDate()-7);var r="https://nomoreparties.co/news/v2/everything?"+"q=".concat(e,"&")+"from=".concat(n.toISOString(),"&")+"to=".concat(t.toISOString(),"&")+"sortBy=popularity&apiKey=9c2c6c1be55249cfad5a81d71ce5caf2";return fetch(r).then(function(e){return console.log(e),!!e.ok&&e.json()}).catch(console.log)};function H(){H=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(L){c=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var a=t&&t.prototype instanceof p?t:p,o=Object.create(a.prototype),i=new N(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return x()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=b(i,n);if(c){if(c===u)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=l(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,i),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(L){return{type:"throw",arg:L}}}e.wrap=s;var u={};function p(){}function h(){}function m(){}var f={};c(f,a,function(){return this});var d=Object.getPrototypeOf,v=d&&d(d(k([])));v&&v!==t&&n.call(v,a)&&(f=v);var g=m.prototype=p.prototype=Object.create(f);function y(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function _(e,t){var r;this._invoke=function(a,o){function i(){return new t(function(r,i){!function r(a,o,i,c){var s=l(e[a],e,o);if("throw"!==s.type){var u=s.arg,p=u.value;return p&&"object"==typeof p&&n.call(p,"__await")?t.resolve(p.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(p).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(s.arg)}(a,o,r,i)})}return r=r?r.then(i,i):i()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=l(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function k(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=m,c(g,"constructor",m),c(m,"constructor",h),h.displayName=c(m,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(_.prototype),c(_.prototype,o,function(){return this}),e.AsyncIterator=_,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new _(s(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},y(g),c(g,i,"Generator"),c(g,a,function(){return this}),c(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=k,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;E(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}var V=function(){var e=a.a.useState([]),t=Object(s.a)(e,2),n=t[0],r=t[1],o=a.a.useState([]),i=Object(s.a)(o,2),l=i[0],u=i[1],m=a.a.useState(!1),f=Object(s.a)(m,2),d=f[0],v=f[1],_=a.a.useState(!1),b=Object(s.a)(_,2),w=b[0],E=b[1],N=a.a.useState(!1),k=Object(s.a)(N,2),L=k[0],S=k[1],O=a.a.useState(!0),j=Object(s.a)(O,2),C=j[0],T=j[1],P=a.a.useState([]),F=Object(s.a)(P,2),D=F[0],I=F[1],G=a.a.useState(""),U=Object(s.a)(G,2),Y=U[0],V=U[1],M=function(){var e=Object(c.a)(H().mark(function e(t){var n;return H().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.signin(t).then(function(e){return e}).catch(console.log);case 2:return(n=e.sent)&&(v(!0),r(n.name)),e.abrupt("return",n);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),R=function(){localStorage.clear(),v(!1)},z=function(){var e=Object(c.a)(H().mark(function e(t){var n;return H().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.signup(t).then(function(e){return"undefined"===typeof e||e.err?"This email is not available":!!e.data}).catch(console.log);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),K=function(){return p.getArticle().then(function(e){return u(e),e}).catch(console.log)},W=function(e){p.unSavedArticle(e).then(function(e){K()}).catch(function(e){return console.log(e)})};return a.a.useEffect(function(){d?p.getUserInfo().then(function(e){if(e)return r(e.name),K(),e}).catch(function(e){return console.log(e)}):function(){var e=localStorage.getItem("jwt");p.checkToken(e).then(function(e){e&&v(!0)}).catch(console.log)}()},[d]),a.a.createElement("div",{className:"app"},a.a.createElement(h.Provider,{value:{user:n,savedCard:l,isLoggedIn:d,badConnectionToServer:L}},a.a.createElement(y.d,null,a.a.createElement(y.b,{path:"/",element:a.a.createElement(a.a.Fragment,null,a.a.createElement(A,{getNews:function(e){E(!0),V(e),J(e).then(function(e){"boolean"===typeof e?S(!0):(I(e.articles),0===D.length&&T(!1),E(!1))}).catch(console.log)},isLoggedIn:d,registerFunc:z,logout:R,loginFunc:M,getArticle:K})," ",a.a.createElement(B,{unSavedArticle:W,onSearchStatus:w,keyword:Y,isFundSome:C,onSaveBtnClick:function(e){p.saveArticle(e).then(function(e){K()}).catch(function(e){return console.log(e)})},cardData:D}))}),a.a.createElement(y.b,{path:"/saved-news",element:a.a.createElement(q,{isLoggedIn:d,unSavedArticle:W,logout:R,component:x})})),a.a.createElement(g,null)))};i.a.createRoot(document.getElementById("root")).render(a.a.createElement(b.a,null,a.a.createElement(V,null)))}],[[16,1,2]]]);
//# sourceMappingURL=main.a1dbce21.chunk.js.map